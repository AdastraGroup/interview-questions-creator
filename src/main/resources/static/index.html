<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Interviews</title>
    <link rel="stylesheet" href="/lib/bootstrap/bootstrap.min.css" type="text/css"/>
    <link rel="stylesheet" href="/css/example.css" type="text/css"/>
</head>
<body>

<div style="margin: 20px" id="container"> </div>


<script src="/lib/es5-shim.min.js"></script>
<script src="/lib/es5-sham.min.js"></script>
<script src="/lib/console-polyfill.js"></script>

<script src="/lib/underscore/underscore-min.js"></script>

<script src="/lib/react/react.js"></script>
<script src="/lib/react/JSXTransformer.js"></script>

<script src="/lib/jquery/jquery-1.10.0.js" type="text/javascript" charset="utf-8"></script>

<script src="/lib/bootstrap/bootstrap.min.js" type="text/javascript" charset="utf-8"></script>

<script type="text/javascript" src="/lib/griddle/griddle.js"></script>

<script src="/lib/react_bootstrap/react-bootstrap.js"></script>

<script type="text/jsx" src="/app/question.js"></script>
<script type="text/jsx" src="/app/interview.js"></script>
<script type="text/jsx" src="/app/answer.js"></script>



<script type="text/jsx">

    function isDef(variable) {
        return (typeof variable !== "undefined");
    };
    function kv(key, value) {
        var a = {};
        a[key] = value;
        return a;
    };
    function patchUpdate(entityUrl, id, key, newVal, oldVal, doTrim) {

        doTrim = typeof doTrim !== 'undefined' ? doTrim : true; // simulation of default value for function parameter

        if(newVal == oldVal){
            //maybe onUpdateSucces cos user may be confused
            return;
        }

        if(doTrim && typeof newVal == "string"){
            newVal = newVal.trim();
        }

        if(newVal == oldVal){
            this.setState(kv( key, newVal ));
            return;
        }


        var data = kv(key, newVal);
        var url = "/api/" +entityUrl+ "/" + id;

        $.ajax({ url: url, data: JSON.stringify(data), dataType: 'json', type: 'PATCH', headers: {'Accept': 'application/json', 'Content-Type': 'application/json'},
                 success: function(result)           { this.onUpdateSuccess(id, entityUrl, key, newVal);          }.bind(this),
                 error:   function(xhr, status, err) { console.error(url, status, err.toString());
                                                       this.onUpdateFailure(id, entityUrl, key, newVal, oldVal);  }.bind(this)
        });
    };


    var TabbedArea = ReactBootstrap.TabbedArea;
    var TabPane = ReactBootstrap.TabPane;
    var Button = ReactBootstrap.Button;
    var Input = ReactBootstrap.Input;
    var DropdownButton = ReactBootstrap.DropdownButton;
    var MenuItem = ReactBootstrap.MenuItem;
    var Alert = ReactBootstrap.Alert;


   const navInstance = (
   <div >

    <TabbedArea justified bsStyle='pills' defaultActiveKey={1} animation={false}>
                <TabPane eventKey={1} tab='Interviews'><Interview id="1"/></TabPane>
                <TabPane eventKey={2} tab='Interview templates'>TabPane 2 content</TabPane>
                <TabPane eventKey={3} tab='Create New Template'>TabPane 3 content</TabPane>
    </TabbedArea>

    </div>
);

React.render(navInstance, container);

</script>

</body>
</html>

